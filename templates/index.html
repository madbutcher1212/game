<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Rodstone War</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div id="loginOverlay" class="login-overlay">
        <div class="login-box">
            <div class="avatar-preview" id="avatarPreview">üë§</div>
            <h3>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h3>
            <p>–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è –≤ –∏–≥—Ä–µ (–¥–æ 12 —Å–∏–º–≤–æ–ª–æ–≤):</p>
            <input type="text" id="newLogin" placeholder="–í–∞—à–µ –∏–≥—Ä–æ–≤–æ–µ –∏–º—è" maxlength="12">
            <button class="building-upgrade-btn" id="confirmLogin">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
        </div>
    </div>

    <div class="game">
        <div class="top-bar-fixed">
            <div class="top-bar">
                <div class="avatar" id="avatar">
                    <img id="avatarImg" class="avatar-img" src="" style="display: none;">
                    <span id="avatarPlaceholder">üë§</span>
                </div>
                <div class="user-info">
                    <div class="name-level">
                        <div class="user-name" id="userName">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                        <div class="level-badge" id="levelBadge">1</div>
                    </div>
                    <div class="user-login" id="userLogin">@username</div>
                </div>
                <div class="resources-compact">
                    <div class="resource-block" onclick="showExactValue('gold')">
                        <span>ü™ô</span>
                        <span id="goldDisplay">100</span>
                        <span class="resource-income" id="goldIncome">+0/—á</span>
                    </div>
                    <div class="resource-block" onclick="showExactValue('population')">
                        <span>üë•</span>
                        <span id="populationDisplay">10/20</span>
                        <span class="resource-income" id="populationGrowth">+3/—á</span>
                    </div>
                </div>
            </div>
            <div class="income-timer" id="incomeTimer">
                <div>‚è≥ –°–ª–µ–¥—É—é—â–∏–π —Å–±–æ—Ä —á–µ—Ä–µ–∑: <span id="timerDisplay">59:59</span></div>
                <div class="timer-progress">
                    <div class="timer-progress-bar" id="timerProgress"></div>
                </div>
            </div>
        </div>
        
        <div class="content-scrollable">
            <div class="tab-content">
                <div id="tabCity" class="tab-pane active">
                    <div class="city-resources">
                        <div class="city-resource-item" onclick="showExactValue('wood')">
                            <span>ü™µ</span>
                            <span id="woodDisplay">50</span>
                            <span class="resource-income" id="woodIncome">+0/—á</span>
                        </div>
                        <div class="city-resource-item" onclick="showExactValue('stone')">
                            <span>‚õ∞Ô∏è</span>
                            <span id="stoneDisplay">0</span>
                            <span class="resource-income" id="stoneIncome">+0/—á</span>
                        </div>
                        <div class="city-resource-item" onclick="showExactValue('food')">
                            <span>üåæ</span>
                            <span id="foodDisplay">50</span>
                            <span class="resource-income" id="foodIncome">+0/—á</span>
                        </div>
                    </div>
                    
                    <div class="city-container">
                        <div class="town-hall" id="townHall" onclick="upgradeTownHall()">
                            <div class="town-hall-icon">üèõÔ∏è</div>
                            <div class="town-hall-info">
                                <div class="town-hall-name">–†–∞—Ç—É—à–∞</div>
                                <div class="town-hall-income" id="townHallIncome">+5 ü™ô/—á</div>
                                <div class="town-hall-level">–£—Ä–æ–≤–µ–Ω—å <span id="townHallLevel">1</span>/5</div>
                                <div class="town-hall-next" id="townHallNext">‚¨ÜÔ∏è –£–ª—É—á—à–∏—Ç—å</div>
                            </div>
                            <div class="town-hall-level-badge" id="townHallLevelBadge">1</div>
                        </div>
                        
                        <div class="buildings-section">
                            <div class="section-title"><span>üèòÔ∏è</span> –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ—Å—Ç—Ä–æ–π–∫–∏</div>
                            <div class="buildings-grid" id="socialBuildings"></div>
                        </div>
                        
                        <div class="buildings-section">
                            <div class="section-title"><span>‚öíÔ∏è</span> –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –ø–æ—Å—Ç—Ä–æ–π–∫–∏</div>
                            <div class="buildings-grid" id="economicBuildings"></div>
                        </div>
                        
                        <div class="buildings-section">
                            <div class="section-title"><span>‚öîÔ∏è</span> –í–æ–µ–Ω–Ω—ã–µ –ø–æ—Å—Ç—Ä–æ–π–∫–∏</div>
                            <div class="buildings-grid" id="militaryBuildings">
                                <div class="empty-tab">–°–∫–æ—Ä–æ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="tabArmy" class="tab-pane hidden">
                    <div class="empty-tab">‚öîÔ∏è –ê—Ä–º–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</div>
                </div>
                
                <div id="tabCampaign" class="tab-pane hidden">
                    <div class="empty-tab">üó∫Ô∏è –ü–æ—Ö–æ–¥—ã –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</div>
                </div>
                
                <div id="tabClans" class="tab-pane hidden">
                    <div class="clan-section">
                        <h3>üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–Ω–æ–º</h3>
                        <input type="text" id="clanName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞–Ω–∞">
                        <input type="text" id="clanTag" placeholder="–¢–µ–≥ (–¥–æ 5 –±—É–∫–≤)">
                        <button class="building-upgrade-btn" id="createClanBtn">‚ú® –°–æ–∑–¥–∞—Ç—å –∫–ª–∞–Ω</button>
                        <button class="building-upgrade-btn" id="topClansBtn">üèÜ –¢–æ–ø –∫–ª–∞–Ω–æ–≤</button>
                        <div id="topClans"></div>
                    </div>
                </div>
                
                <div id="tabSettings" class="tab-pane hidden">
                    <div class="clan-section">
                        <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                        <div id="avatarSection"></div>
                        <div class="settings-block">
                            <h4>üìù –°–º–µ–Ω–∏—Ç—å –∏–º—è</h4>
                            <div class="name-change">
                                <input type="text" id="newNameInput" placeholder="–ù–æ–≤–æ–µ –∏–º—è" maxlength="12">
                                <button class="building-upgrade-btn" id="changeNameWithPriceBtn">5000 ü™ô</button>
                            </div>
                        </div>
                        <div class="user-id">ID: <span id="userTelegramId"></span></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="tabs">
            <div class="tab active" data-tab="city"><span class="tab-icon">üè†</span><span class="tab-label">–ì–æ—Ä–æ–¥</span></div>
            <div class="tab" data-tab="army"><span class="tab-icon">‚öîÔ∏è</span><span class="tab-label">–ê—Ä–º–∏—è</span></div>
            <div class="tab" data-tab="campaign"><span class="tab-icon">üó∫Ô∏è</span><span class="tab-label">–ü–æ—Ö–æ–¥—ã</span></div>
            <div class="tab" data-tab="clans"><span class="tab-icon">üë•</span><span class="tab-label">–ö–ª–∞–Ω—ã</span></div>
            <div class="tab" data-tab="settings"><span class="tab-icon">‚öôÔ∏è</span><span class="tab-label">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span></div>
        </div>
    </div>
    
    <div class="toast" id="toast"></div>
    <script src="/static/script.js"></script>
</body>
</html>
